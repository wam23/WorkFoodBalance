parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"pukg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CST=void 0;var e={SCENES:{LOAD:"LOAD",MENU:"MENU",LEVEL1:"LEVEL1"}};exports.CST=e;
},{}],"Ycqt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadScene=void 0;var e=require("../CST.js");function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=l();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?c(e):n}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(t){s(a,Phaser.Scene);var r=i(a);function a(){return n(this,a),r.call(this,{key:e.CST.SCENES.LOAD})}return o(a,[{key:"init",value:function(){}},{key:"preload",value:function(){var e=this;this.load.image("sky","./assets/sky.png"),this.load.image("ground","./assets/ground.png"),this.load.image("platform","./assets/platform.png"),this.load.image("star","./assets/star.png"),this.load.image("bomb","./assets/bomb.png"),this.load.image("beer","./assets/beer.png"),this.load.image("sausage","./assets/sausage.png"),this.load.image("play_button","./assets/play_button.png"),this.load.image("play_icon","./assets/play_icon.png"),this.load.image("game_over","./assets/game_over.png"),this.load.tilemapCSV("Level2","./assets/Level2.csv"),this.load.image("tiles","./assets/tiles_spritesheet.png"),this.load.spritesheet("dude","../assets/dude.png",{frameWidth:32,frameHeight:48});var t=this.add.graphics({fillStyle:{color:16777215}});this.load.on("progress",function(n){t.fillRect(0,e.game.renderer.height/2,e.game.renderer.width*n,50)})}},{key:"create",value:function(){this.scene.start(e.CST.SCENES.MENU)}}]),a}();exports.LoadScene=p;
},{"../CST.js":"pukg"}],"qGid":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuScene=void 0;var t=require("../CST.js");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=s();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?a(t):n}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(e){i(u,Phaser.Scene);var r=c(u);function u(){return n(this,u),r.call(this,{key:t.CST.SCENES.MENU})}return o(u,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this;this.add.image(640,360,"sky"),this.add.image(32,32,"star"),this.add.image(64,32,"star");var n=this.add.sprite(300,400,"play_icon");n.setVisible(!1);var r=this.add.image(400,400,"play_button");r.setInteractive(),r.on("pointerup",function(){e.scene.start(t.CST.SCENES.LEVEL1)}),r.on("pointerover",function(){n.setVisible(!0)}),r.on("pointerout",function(){n.setVisible(!1)})}},{key:"update",value:function(){}}]),u}();exports.MenuScene=p;
},{"../CST.js":"pukg"}],"c9Lq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractLevelScene=void 0;var e=require("../CST.js");function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e){var t=u();return function(){var s,i=h(e);if(t){var r=h(this).constructor;s=Reflect.construct(i,arguments,r)}else s=i.apply(this,arguments);return l(this,s)}}function l(e,s){return!s||"object"!==t(s)&&"function"!=typeof s?c(e):s}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(t){a(o,Phaser.Scene);var i=n(o);function o(e){var t;return s(this,o),(t=i.call(this,{key:e})).levelWidth=10,t.gameOver=!1,t.gameOverIcon,t.gameOverTimer=0,t.escKey,t.player,t.beers,t.sausages,t.bombs,t.platforms,t.cursors,t.lastInput=0,t.waitForInputRelease=!1,t.collectedSausages=0,t.collectedBeers=0,t.collectedBeersScoreText="",t.collectedSausagesScoreText="",t}return r(o,[{key:"preload",value:function(){}},{key:"create",value:function(){for(var e=0;e<this.levelWidth;e++)this.add.image(640+1280*e,360,"sky");this.cameras.main.setBounds(0,0,1280*this.levelWidth,720),this.physics.world.setBounds(0,0,1280*this.levelWidth,720),this.platforms=this.physics.add.staticGroup();for(e=0;e<this.levelWidth;e++)this.platforms.create(640+1280*e,704,"ground");this.player=this.physics.add.sprite(100,450,"dude"),this.player.setBounceX(0),this.player.setBounceY(.2),this.player.setCollideWorldBounds(!0),this.cameras.main.startFollow(this.player,!1,1,0),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1}),this.collectedBeersScoreText=this.add.text(16,16,"Beers: 0",{fontSize:"32px",fill:"#000"}),this.collectedSausagesScoreText=this.add.text(16,48,"Sausages: 0",{fontSize:"32px",fill:"#000"}),this.cursors=this.input.keyboard.createCursorKeys(),this.gameOverIcon=this.physics.add.sprite(300,300,"game_over"),this.gameOverIcon.setVisible(!1),this.gameOver=!1,this.escKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ESC)}},{key:"afterCreate",value:function(){this.physics.add.collider(this.player,this.platforms),this.physics.add.collider(this.beers,this.platforms),this.physics.add.collider(this.sausages,this.platforms),this.physics.add.overlap(this.player,this.beers,this.collectBeer,null,this),this.physics.add.overlap(this.player,this.sausages,this.collectSausage,null,this)}},{key:"update",value:function(){if(this.escKey.isDown&&this.gameIsOver(),this.gameOver)return this.gameOverTimer++,void(this.gameOverTimer>150&&this.scene.start(e.CST.SCENES.MENU));this.gameOverTimer=0;var t=this.input.activePointer.isDown&&this.input.activePointer.position.x<100||this.cursors.left.isDown,s=this.input.activePointer.isDown&&this.input.activePointer.position.x>1180||this.cursors.right.isDown;t&&!this.waitForInputRelease?(1!=this.lastInput?(this.player.setVelocityX(-160),this.player.anims.play("left",!0)):1==this.lastInput&&this.player.body.touching.down&&this.player.setVelocityY(-330),this.lastInput=1,this.waitForInputRelease=!0):s&&!this.waitForInputRelease&&(2!=this.lastInput?(this.player.setVelocityX(160),this.player.anims.play("right",!0)):2==this.lastInput&&this.player.body.touching.down&&this.player.setVelocityY(-330),this.lastInput=2,this.waitForInputRelease=!0),t||s||(this.waitForInputRelease=!1)}},{key:"collectBeer",value:function(e,t){t.disableBody(!0,!0),this.collectedBeers++,this.collectedBeersScoreText.setText("Beers: "+this.collectedBeers)}},{key:"collectSausage",value:function(e,t){t.disableBody(!0,!0),this.collectedSausages++,this.collectedSausagesScoreText.setText("Sausages: "+this.collectedSausages)}},{key:"hitBomb",value:function(e,t){this.gameIsOver()}},{key:"gameIsOver",value:function(){this.gameOverIcon.setVisible(!0),this.physics.pause(),this.player.setTint(16711680),this.player.anims.play("turn"),this.gameOver=!0}}]),o}();exports.AbstractLevelScene=p;
},{"../CST.js":"pukg"}],"oNuL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Level1Scene=void 0;var e=require("../CST.js"),t=require("./AbstractLevelScene.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function c(e,t,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=u(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=y();return function(){var r,n=h(e);if(t){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(r){a(u,t.AbstractLevelScene);var o=l(u);function u(){return n(this,u),o.call(this,e.CST.SCENES.LEVEL1)}return i(u,[{key:"preload",value:function(){}},{key:"create",value:function(){c(h(u.prototype),"create",this).call(this);var e=this.make.tilemap({key:"Level2",tileWidth:72,tileHeight:72});e.setCollision([3,9,44,81,69]);var t=e.addTilesetImage("tiles");this.layer=e.createStaticLayer("layer",t),this.physics.add.collider(this.player,this.layer),this.beers=this.physics.add.group({key:"beer",repeat:11,setXY:{x:12,y:0,stepX:70}}),this.beers.children.iterate(function(e){e.setBounceY(Phaser.Math.FloatBetween(.4,.8))}),this.sausages=this.physics.add.group({key:"sausage",repeat:5,setXY:{x:35,y:0,stepX:70}}),this.sausages.children.iterate(function(e){e.setBounceY(Phaser.Math.FloatBetween(.4,.8))}),this.afterCreate()}},{key:"update",value:function(){c(h(u.prototype),"update",this).call(this)}}]),u}();exports.Level1Scene=b;
},{"../CST.js":"pukg","./AbstractLevelScene.js":"c9Lq"}],"HJDO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assetsDPR=void 0;var e=require("./scenes/LoadScene.js"),s=require("./scenes/MenuScene.js"),a=require("./scenes/Level1Scene.js"),t=function(e){return Math.round(2*e)/2},n={best:1,medium:.75,low:.5},o=window.devicePixelRatio*n.best,r=window.screen,c=r.width,i=r.height,d=Math.round(Math.max(c,i)*o),h=Math.round(Math.min(c,i)*o),l=t(Math.min(Math.max(h/360,1),4));exports.assetsDPR=l,console.log("DPR = ",o),console.log("assetsDPR = ",l),console.log("WIDTH = ",d),console.log("HEIGHT = ",h);var u={type:Phaser.AUTO,scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:d,height:h},physics:{default:"arcade",arcade:{gravity:{y:250},debug:!1}},scene:[e.LoadScene,s.MenuScene,a.Level1Scene]},M=new Phaser.Game(u);
},{"./scenes/LoadScene.js":"Ycqt","./scenes/MenuScene.js":"qGid","./scenes/Level1Scene.js":"oNuL"}]},{},["HJDO"], null)
//# sourceMappingURL=/main.1e43358e.js.map